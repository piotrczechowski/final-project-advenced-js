var te=Object.defineProperty;var ne=(u,a,f)=>a in u?te(u,a,{enumerable:!0,configurable:!0,writable:!0,value:f}):u[a]=f;var N=(u,a,f)=>ne(u,typeof a!="symbol"?a+"":a,f);import"../burger-kookmdyu.js";var m;let ie=(m=class{static handleErrors(a){return async()=>{try{return await a()}catch(f){console.error("Error during request: ",f.message)}}}static async fetchJson(a,f){return(await fetch(a,f)).json()}async getQuotes(){return await m.handleErrors(async()=>await m.fetchJson(`${m.BASE_URL}/quote`))()}async getByFilterName(a){return await m.handleErrors(async()=>{const l=new URLSearchParams({...a});return await m.fetchJson(`${m.BASE_URL}/filters?${l}`)})()}async getByFilterCategory(a){return await m.handleErrors(async()=>{const l=new URLSearchParams({...a});return await m.fetchJson(`${m.BASE_URL}/exercises?${l}`)})()}async getOneExercises(a){return await m.handleErrors(async()=>await m.fetchJson(`${m.BASE_URL}/exercises/${a}`))()}async addExercisesRate(a,f){return await m.handleErrors(async()=>{const o={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)};return await m.fetchJson(`${m.BASE_URL}/exercises/${a}/rating`,o)})()}async addSubscription(a){return await m.handleErrors(async()=>{const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return await m.fetchJson(`${m.BASE_URL}/subscription`,l)})()}},N(m,"BASE_URL","https://your-energy.b.goit.study/api"),m);const C=new ie,oe=document.querySelector(".pagination-numbers"),se=document.querySelector(".muscles-list");let z=1,ae;try{oe.addEventListener("click",u=>{u.target.nodeName==="BUTTON"&&re(u)})}catch(u){console.error("Error initializing pagination:",u)}async function re(u){const a=Number(u.target.textContent);if(a===z)return;const f={...ae,page:a};try{if(loader.open(),f.filter){const l=await C.getByFilterName(f);se.innerHTML=filterBtn.makeMarkupMuscles(l.results)}else{const l=await C.getByFilterCategory(f);makeMarkupCards(l)}loader.close(),z=a,le()}catch(l){console.error("Error fetching data:",l),loader.close()}}function le(){document.querySelectorAll(".pagination-number").forEach(u=>{const a=Number(u.getAttribute("page-index"));u.classList.toggle("active",a===z)})}const D="/final-project-advenced-js/assets/sprite-BjzD74W5.svg",de=document.querySelector(".filter-list-js");let j="";const ce=["BUTTON","svg","use","P"];let F,P,J;async function ue(u){u.preventDefault();const a=document.querySelector(".modal-get-raiting").dataset.id,l=document.querySelector(".rating-container-js").dataset.rating,o=document.querySelector(".raiting-form-field-input").value,w=document.querySelector(".raiting-form-field-comment").value,S={rate:Number(l),email:o,review:w};loader.open();const L=await C.addExercisesRate(a,S);loader.close(),L.message?message.error(`${L.message}`):(message.success(`Thank you for your mark - ${S.rate} for ${L.name}`),myModal.close())}async function fe(){const u=document.querySelector(".modal-info").dataset.id;myModal.close(),myModal.open(getRatingModal(u)),createInteractiveRaiting(),J=document.querySelector(".raiting-form"),J.addEventListener("submit",ue)}async function pe(){const u=document.querySelector(".refresh-button-js"),a=document.querySelector(".modal-info").dataset.id,l=window.location.href.endsWith("favorites.html");if(u.dataset.favorite==="false"){u.innerHTML=`
      <button class="add-favorite-js" type="button">
        <span class="remote-favorites">Remove from favorites</span>
        <svg class="trash-icon-img" width="18" height="18" aria-label="trash-icon">
          <use href="${D}#icon-trash"></use>
        </svg>
      </button>`,u.dataset.favorite="true",loader.open();const o=await C.getOneExercises(a);loader.close(),addLocalFavorites(o),l&&addContent()}else u.innerHTML=`
      <button class="add-favorite-js" type="button">
        <span>Add to favorites</span>
        <svg class="heart-icon-img" width="20" height="20" aria-label="heart-icon">
          <use href="${D}#icon-heart"></use>
        </svg>
      </button>`,u.dataset.favorite="false",deleteLocalFavorites(a),l&&addContent()}function me({target:u}){const{nodeName:a,classList:f,dataset:l}=u;if(ce.includes(a)&&!f.contains("favourites_btn_trash_icon")&&!f.contains("favourites_btn_workout"))return j=l.id,ge(j);if(f.contains("favourites_btn_trash_icon")){const o=l.id;deleteLocalFavorites(o),addContent()}}const ge=async u=>{loader.open();const a=await C.getOneExercises(u);loader.close();const f=localStorage.getItem("favorites");if(f){const o=JSON.parse(f).some(({_id:w})=>w===u);a.favorite=o}else a.favorite=!1;myModal.open(getExerciseModal(a)),P=document.querySelector(".refresh-button-js"),F=document.querySelector(".add-rating"),F.addEventListener("click",fe),P.addEventListener("click",pe)};de.addEventListener("click",me);const g=class g{static handleErrors(a){return async()=>{try{return await a()}catch(f){console.error("Помилка при запиті: ",f.message)}}}static async fetchJson(a,f){return(await fetch(a,f)).json()}async getQuotes(){return await g.handleErrors(async()=>await g.fetchJson(`${g.BASE_URL}/quote`))()}async getByFilterName(a){return await g.handleErrors(async()=>{const l=new URLSearchParams({...a});return await g.fetchJson(`${g.BASE_URL}/filters?${l}`)})()}async getByFilterCategory(a){return await g.handleErrors(async()=>{const l=new URLSearchParams({...a});return await g.fetchJson(`${g.BASE_URL}/exercises?${l}`)})()}async getOneExercises(a){return await g.handleErrors(async()=>await g.fetchJson(`${g.BASE_URL}/exercises/${a}`))()}async addExercisesRate(a,f){return await g.handleErrors(async()=>{const o={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)};return await g.fetchJson(`${g.BASE_URL}/exercises/${a}/rating`,o)})()}async addSubscription(a){return await g.handleErrors(async()=>{const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return await g.fetchJson(`${g.BASE_URL}/subscription`,l)})()}};N(g,"BASE_URL","https://your-energy.b.goit.study/api");let q=g;const he=new q,b=class b{open(){(!b.loaderEl||b.loaderEl.classList.contains("js-loader"))&&(b.loaderEl.style.display="block")}close(){b.loaderEl&&(b.loaderEl.style.display="none")}};N(b,"loaderEl",document.querySelector(".js-loader"));let H=b;const W=new H;var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ye(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var R={exports:{}},G=R.exports,$;function ve(){return $||($=1,function(u,a){(function(f,l){u.exports=l(f)})(typeof X<"u"?X:window||G.window||G.global,function(f){var l={},o="iziToast";document.querySelector("body");var w=!!/Mobi/.test(navigator.userAgent),S=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),L=typeof InstallTrigger<"u",T="ontouchstart"in document.documentElement,U=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],K={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},I=568,x={};l.children={};var B={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var k=function(s,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(s,n.bubbles,n.cancelable,n.detail),e};k.prototype=window.Event.prototype,window.CustomEvent=k}var y=function(s,n,e){if(Object.prototype.toString.call(s)==="[object Object]")for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&n.call(e,s[t],t,s);else if(s)for(var r=0,c=s.length;r<c;r++)n.call(e,s[r],r,s)},v=function(s,n){var e={};return y(s,function(t,r){e[r]=s[r]}),y(n,function(t,r){e[r]=n[r]}),e},M=function(s){var n=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=s;e.firstChild;)n.appendChild(e.firstChild);return n},V=function(s){var n=btoa(encodeURIComponent(s));return n.replace(/=/g,"")},Y=function(s){return s.substring(0,1)=="#"||s.substring(0,3)=="rgb"||s.substring(0,3)=="hsl"},_=function(s){try{return btoa(atob(s))==s}catch{return!1}},E=function(){return{move:function(s,n,e,t){var r,c=.3,i=180;t!==0&&(s.classList.add(o+"-dragged"),s.style.transform="translateX("+t+"px)",t>0?(r=(i-t)/i,r<c&&n.hide(v(e,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),s,"drag")):(r=(i+t)/i,r<c&&n.hide(v(e,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),s,"drag")),s.style.opacity=r,r<c&&((S||L)&&(s.style.left=t+"px"),s.parentNode.style.opacity=c,this.stopMoving(s,null)))},startMoving:function(s,n,e,t){t=t||window.event;var r=T?t.touches[0].clientX:t.clientX,c=s.style.transform.replace("px)","");c=c.replace("translateX(","");var i=r-c;e.transitionIn&&s.classList.remove(e.transitionIn),e.transitionInMobile&&s.classList.remove(e.transitionInMobile),s.style.transition="",T?document.ontouchmove=function(d){d.preventDefault(),d=d||window.event;var p=d.touches[0].clientX,h=p-i;E.move(s,n,e,h)}:document.onmousemove=function(d){d.preventDefault(),d=d||window.event;var p=d.clientX,h=p-i;E.move(s,n,e,h)}},stopMoving:function(s,n){T?document.ontouchmove=function(){}:document.onmousemove=function(){},s.style.opacity="",s.style.transform="",s.classList.contains(o+"-dragged")&&(s.classList.remove(o+"-dragged"),s.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){s.style.transition=""},400))}}}();return l.setSetting=function(s,n,e){l.children[s][n]=e},l.getSetting=function(s,n){return l.children[s][n]},l.destroy=function(){y(document.querySelectorAll("."+o+"-overlay"),function(s,n){s.remove()}),y(document.querySelectorAll("."+o+"-wrapper"),function(s,n){s.remove()}),y(document.querySelectorAll("."+o),function(s,n){s.remove()}),this.children={},document.removeEventListener(o+"-opened",{},!1),document.removeEventListener(o+"-opening",{},!1),document.removeEventListener(o+"-closing",{},!1),document.removeEventListener(o+"-closed",{},!1),document.removeEventListener("keyup",{},!1),x={}},l.settings=function(s){l.destroy(),x=s,B=v(B,s||{})},y(K,function(s,n){l[n]=function(e){var t=v(x,e||{});t=v(s,t||{}),this.show(t)}}),l.progress=function(s,n,e){var t=this,r=n.getAttribute("data-iziToast-ref"),c=v(this.children[r],s||{}),i=n.querySelector("."+o+"-progressbar div");return{start:function(){typeof c.time.REMAINING>"u"&&(n.classList.remove(o+"-reseted"),i!==null&&(i.style.transition="width "+c.timeout+"ms "+c.progressBarEasing,i.style.width="0%"),c.time.START=new Date().getTime(),c.time.END=c.time.START+c.timeout,c.time.TIMER=setTimeout(function(){clearTimeout(c.time.TIMER),n.classList.contains(o+"-closing")||(t.hide(c,n,"timeout"),typeof e=="function"&&e.apply(t))},c.timeout),t.setSetting(r,"time",c.time))},pause:function(){if(typeof c.time.START<"u"&&!n.classList.contains(o+"-paused")&&!n.classList.contains(o+"-reseted")){if(n.classList.add(o+"-paused"),c.time.REMAINING=c.time.END-new Date().getTime(),clearTimeout(c.time.TIMER),t.setSetting(r,"time",c.time),i!==null){var d=window.getComputedStyle(i),p=d.getPropertyValue("width");i.style.transition="none",i.style.width=p}typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}},resume:function(){typeof c.time.REMAINING<"u"?(n.classList.remove(o+"-paused"),i!==null&&(i.style.transition="width "+c.time.REMAINING+"ms "+c.progressBarEasing,i.style.width="0%"),c.time.END=new Date().getTime()+c.time.REMAINING,c.time.TIMER=setTimeout(function(){clearTimeout(c.time.TIMER),n.classList.contains(o+"-closing")||(t.hide(c,n,"timeout"),typeof e=="function"&&e.apply(t))},c.time.REMAINING),t.setSetting(r,"time",c.time)):this.start()},reset:function(){clearTimeout(c.time.TIMER),delete c.time.REMAINING,t.setSetting(r,"time",c.time),n.classList.add(o+"-reseted"),n.classList.remove(o+"-paused"),i!==null&&(i.style.transition="none",i.style.width="100%"),typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}}},l.hide=function(s,n,e){typeof n!="object"&&(n=document.querySelector(n));var t=this,r=v(this.children[n.getAttribute("data-iziToast-ref")],s||{});r.closedBy=e||null,delete r.time.REMAINING,n.classList.add(o+"-closing"),function(){var d=document.querySelector("."+o+"-overlay");if(d!==null){var p=d.getAttribute("data-iziToast-ref");p=p.split(",");var h=p.indexOf(String(r.ref));h!==-1&&p.splice(h,1),d.setAttribute("data-iziToast-ref",p.join()),p.length===0&&(d.classList.remove("fadeIn"),d.classList.add("fadeOut"),setTimeout(function(){d.remove()},700))}}(),r.transitionIn&&n.classList.remove(r.transitionIn),r.transitionInMobile&&n.classList.remove(r.transitionInMobile),w||window.innerWidth<=I?r.transitionOutMobile&&n.classList.add(r.transitionOutMobile):r.transitionOut&&n.classList.add(r.transitionOut);var c=n.parentNode.offsetHeight;n.parentNode.style.height=c+"px",n.style.pointerEvents="none",(!w||window.innerWidth>I)&&(n.parentNode.style.transitionDelay="0.2s");try{var i=new CustomEvent(o+"-closing",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(i)}catch(d){console.warn(d)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete t.children[r.ref],n.parentNode.remove();try{var d=new CustomEvent(o+"-closed",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(d)}catch(p){console.warn(p)}typeof r.onClosed<"u"&&r.onClosed.apply(null,[r,n,e])},1e3)},200),typeof r.onClosing<"u"&&r.onClosing.apply(null,[r,n,e])},l.show=function(s){var n=this,e=v(x,s||{});if(e=v(B,e),e.time={},e.id===null&&(e.id=V(e.title+e.message+e.color)),e.displayMode===1||e.displayMode=="once")try{if(document.querySelectorAll("."+o+"#"+e.id).length>0)return!1}catch{console.warn("["+o+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}if(e.displayMode===2||e.displayMode=="replace")try{y(document.querySelectorAll("."+o+"#"+e.id),function(i,d){n.hide(e,i,"replaced")})}catch{console.warn("["+o+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}e.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),l.children[e.ref]=e;var t={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:e.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};t.toast.setAttribute("data-iziToast-ref",e.ref),t.toast.appendChild(t.toastBody),t.toastCapsule.appendChild(t.toast),function(){if(t.toast.classList.add(o),t.toast.classList.add(o+"-opening"),t.toastCapsule.classList.add(o+"-capsule"),t.toastBody.classList.add(o+"-body"),t.toastTexts.classList.add(o+"-texts"),w||window.innerWidth<=I?e.transitionInMobile&&t.toast.classList.add(e.transitionInMobile):e.transitionIn&&t.toast.classList.add(e.transitionIn),e.class){var i=e.class.split(" ");y(i,function(d,p){t.toast.classList.add(d)})}e.id&&(t.toast.id=e.id),e.rtl&&(t.toast.classList.add(o+"-rtl"),t.toast.setAttribute("dir","rtl")),e.layout>1&&t.toast.classList.add(o+"-layout"+e.layout),e.balloon&&t.toast.classList.add(o+"-balloon"),e.maxWidth&&(isNaN(e.maxWidth)?t.toast.style.maxWidth=e.maxWidth:t.toast.style.maxWidth=e.maxWidth+"px"),(e.theme!==""||e.theme!=="light")&&t.toast.classList.add(o+"-theme-"+e.theme),e.color&&(Y(e.color)?t.toast.style.background=e.color:t.toast.classList.add(o+"-color-"+e.color)),e.backgroundColor&&(t.toast.style.background=e.backgroundColor,e.balloon&&(t.toast.style.borderColor=e.backgroundColor))}(),function(){e.image&&(t.cover.classList.add(o+"-cover"),t.cover.style.width=e.imageWidth+"px",_(e.image.replace(/ /g,""))?t.cover.style.backgroundImage="url(data:image/png;base64,"+e.image.replace(/ /g,"")+")":t.cover.style.backgroundImage="url("+e.image+")",e.rtl?t.toastBody.style.marginRight=e.imageWidth+10+"px":t.toastBody.style.marginLeft=e.imageWidth+10+"px",t.toast.appendChild(t.cover))}(),function(){e.close?(t.buttonClose=document.createElement("button"),t.buttonClose.type="button",t.buttonClose.classList.add(o+"-close"),t.buttonClose.addEventListener("click",function(i){i.target,n.hide(e,t.toast,"button")}),t.toast.appendChild(t.buttonClose)):e.rtl?t.toast.style.paddingLeft="18px":t.toast.style.paddingRight="18px"}(),function(){e.progressBar&&(t.progressBar=document.createElement("div"),t.progressBarDiv=document.createElement("div"),t.progressBar.classList.add(o+"-progressbar"),t.progressBarDiv.style.background=e.progressBarColor,t.progressBar.appendChild(t.progressBarDiv),t.toast.appendChild(t.progressBar)),e.timeout&&(e.pauseOnHover&&!e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(i){n.progress(e,t.toast).pause()}),t.toast.addEventListener("mouseleave",function(i){n.progress(e,t.toast).resume()})),e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(i){n.progress(e,t.toast).reset()}),t.toast.addEventListener("mouseleave",function(i){n.progress(e,t.toast).start()})))}(),function(){e.iconUrl?(t.icon.setAttribute("class",o+"-icon"),t.icon.setAttribute("src",e.iconUrl)):e.icon&&(t.icon.setAttribute("class",o+"-icon "+e.icon),e.iconText&&t.icon.appendChild(document.createTextNode(e.iconText)),e.iconColor&&(t.icon.style.color=e.iconColor)),(e.icon||e.iconUrl)&&(e.rtl?t.toastBody.style.paddingRight="33px":t.toastBody.style.paddingLeft="33px",t.toastBody.appendChild(t.icon))}(),function(){e.title.length>0&&(t.strong=document.createElement("strong"),t.strong.classList.add(o+"-title"),t.strong.appendChild(M(e.title)),t.toastTexts.appendChild(t.strong),e.titleColor&&(t.strong.style.color=e.titleColor),e.titleSize&&(isNaN(e.titleSize)?t.strong.style.fontSize=e.titleSize:t.strong.style.fontSize=e.titleSize+"px"),e.titleLineHeight&&(isNaN(e.titleSize)?t.strong.style.lineHeight=e.titleLineHeight:t.strong.style.lineHeight=e.titleLineHeight+"px")),e.message.length>0&&(t.p=document.createElement("p"),t.p.classList.add(o+"-message"),t.p.appendChild(M(e.message)),t.toastTexts.appendChild(t.p),e.messageColor&&(t.p.style.color=e.messageColor),e.messageSize&&(isNaN(e.titleSize)?t.p.style.fontSize=e.messageSize:t.p.style.fontSize=e.messageSize+"px"),e.messageLineHeight&&(isNaN(e.titleSize)?t.p.style.lineHeight=e.messageLineHeight:t.p.style.lineHeight=e.messageLineHeight+"px")),e.title.length>0&&e.message.length>0&&(e.rtl?t.strong.style.marginLeft="10px":e.layout!==2&&!e.rtl&&(t.strong.style.marginRight="10px"))}(),t.toastBody.appendChild(t.toastTexts);var r;(function(){e.inputs.length>0&&(t.inputs.classList.add(o+"-inputs"),y(e.inputs,function(i,d){t.inputs.appendChild(M(i[0])),r=t.inputs.childNodes,r[d].classList.add(o+"-inputs-child"),i[3]&&setTimeout(function(){r[d].focus()},300),r[d].addEventListener(i[1],function(p){var h=i[2];return h(n,t.toast,this,p)})}),t.toastBody.appendChild(t.inputs))})(),function(){e.buttons.length>0&&(t.buttons.classList.add(o+"-buttons"),y(e.buttons,function(i,d){t.buttons.appendChild(M(i[0]));var p=t.buttons.childNodes;p[d].classList.add(o+"-buttons-child"),i[2]&&setTimeout(function(){p[d].focus()},300),p[d].addEventListener("click",function(h){h.preventDefault();var ee=i[1];return ee(n,t.toast,this,h,r)})})),t.toastBody.appendChild(t.buttons)}(),e.message.length>0&&(e.inputs.length>0||e.buttons.length>0)&&(t.p.style.marginBottom="0"),(e.inputs.length>0||e.buttons.length>0)&&(e.rtl?t.toastTexts.style.marginLeft="10px":t.toastTexts.style.marginRight="10px",e.inputs.length>0&&e.buttons.length>0&&(e.rtl?t.inputs.style.marginLeft="8px":t.inputs.style.marginRight="8px")),function(){t.toastCapsule.style.visibility="hidden",setTimeout(function(){var i=t.toast.offsetHeight,d=t.toast.currentStyle||window.getComputedStyle(t.toast),p=d.marginTop;p=p.split("px"),p=parseInt(p[0]);var h=d.marginBottom;h=h.split("px"),h=parseInt(h[0]),t.toastCapsule.style.visibility="",t.toastCapsule.style.height=i+h+p+"px",setTimeout(function(){t.toastCapsule.style.height="auto",e.target&&(t.toastCapsule.style.overflow="visible")},500),e.timeout&&n.progress(e,t.toast).start()},100)}(),function(){var i=e.position;if(e.target)t.wrapper=document.querySelector(e.target),t.wrapper.classList.add(o+"-target"),e.targetFirst?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule);else{if(U.indexOf(e.position)==-1){console.warn("["+o+`] Incorrect position.
It can be › `+U);return}w||window.innerWidth<=I?e.position=="bottomLeft"||e.position=="bottomRight"||e.position=="bottomCenter"?i=o+"-wrapper-bottomCenter":e.position=="topLeft"||e.position=="topRight"||e.position=="topCenter"?i=o+"-wrapper-topCenter":i=o+"-wrapper-center":i=o+"-wrapper-"+i,t.wrapper=document.querySelector("."+o+"-wrapper."+i),t.wrapper||(t.wrapper=document.createElement("div"),t.wrapper.classList.add(o+"-wrapper"),t.wrapper.classList.add(i),document.body.appendChild(t.wrapper)),e.position=="topLeft"||e.position=="topCenter"||e.position=="topRight"?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule)}isNaN(e.zindex)?console.warn("["+o+"] Invalid zIndex."):t.wrapper.style.zIndex=e.zindex}(),function(){e.overlay&&(document.querySelector("."+o+"-overlay.fadeIn")!==null?(t.overlay=document.querySelector("."+o+"-overlay"),t.overlay.setAttribute("data-iziToast-ref",t.overlay.getAttribute("data-iziToast-ref")+","+e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1)):(t.overlay.classList.add(o+"-overlay"),t.overlay.classList.add("fadeIn"),t.overlay.style.background=e.overlayColor,t.overlay.setAttribute("data-iziToast-ref",e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1),document.querySelector("body").appendChild(t.overlay)),e.overlayClose?(t.overlay.removeEventListener("click",{}),t.overlay.addEventListener("click",function(i){n.hide(e,t.toast,"overlay")})):t.overlay.removeEventListener("click",{}))}(),function(){if(e.animateInside){t.toast.classList.add(o+"-animateInside");var i=[200,100,300];(e.transitionIn=="bounceInLeft"||e.transitionIn=="bounceInRight")&&(i=[400,200,400]),e.title.length>0&&setTimeout(function(){t.strong.classList.add("slideIn")},i[0]),e.message.length>0&&setTimeout(function(){t.p.classList.add("slideIn")},i[1]),(e.icon||e.iconUrl)&&setTimeout(function(){t.icon.classList.add("revealIn")},i[2]);var d=150;e.buttons.length>0&&t.buttons&&setTimeout(function(){y(t.buttons.childNodes,function(p,h){setTimeout(function(){p.classList.add("revealIn")},d),d=d+150})},e.inputs.length>0?150:0),e.inputs.length>0&&t.inputs&&(d=150,y(t.inputs.childNodes,function(p,h){setTimeout(function(){p.classList.add("revealIn")},d),d=d+150}))}}(),e.onOpening.apply(null,[e,t.toast]);try{var c=new CustomEvent(o+"-opening",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(i){console.warn(i)}setTimeout(function(){t.toast.classList.remove(o+"-opening"),t.toast.classList.add(o+"-opened");try{var i=new CustomEvent(o+"-opened",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(i)}catch(d){console.warn(d)}e.onOpened.apply(null,[e,t.toast])},1e3),e.drag&&(T?(t.toast.addEventListener("touchstart",function(i){E.startMoving(this,n,e,i)},!1),t.toast.addEventListener("touchend",function(i){E.stopMoving(this,i)},!1)):(t.toast.addEventListener("mousedown",function(i){i.preventDefault(),E.startMoving(this,n,e,i)},!1),t.toast.addEventListener("mouseup",function(i){i.preventDefault(),E.stopMoving(this,i)},!1))),e.closeOnEscape&&document.addEventListener("keyup",function(i){i=i||window.event,i.keyCode==27&&n.hide(e,t.toast,"esc")}),e.closeOnClick&&t.toast.addEventListener("click",function(i){n.hide(e,t.toast,"toast")}),n.toast=t.toast},l})}(R)),R.exports}var we=ve();const O=ye(we);O.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});class be{error(a){O.error({title:"Error",message:a})}success(a){O.success({title:"OK",message:a})}info(a){O.info({title:"Info",message:a})}}const Q=new be,Z=document.querySelector("#subscribe-form"),A=Z.querySelector("#email");Z.addEventListener("submit",Ee);async function Ee(u){u.preventDefault();const{value:a}=A;if(!/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(a)){Q.info("Please provide a valid email address"),A.value="";return}try{W.open();const l=await he.addSubscription({email:a});W.close(),Q.success(l.message)}catch(l){console.log(l)}finally{A.value=""}}
